{"version":3,"sources":["webpack:///webpack/bootstrap 10df115534eb0fae3e7a","webpack:///./app/App.tsx","webpack:///external \"$\"","webpack:///./app/Channels/ChannelStore.ts","webpack:///./~/events/events.js","webpack:///./app/Dispatcher/Dispatcher.ts","webpack:///./~/flux/index.js","webpack:///./~/flux/lib/Dispatcher.js","webpack:///(webpack)/~/node-libs-browser/~/process/browser.js","webpack:///./~/flux/~/fbjs/lib/invariant.js","webpack:///./app/Channels/SendMessageAction.ts","webpack:///./app/Actions/Action.ts","webpack:///./app/Channels/ChannelActivationAction.ts","webpack:///./app/Channels/NewChannelAction.ts","webpack:///./app/Channels/Channel.ts","webpack:///./app/Channels/ChannelStoreEvents.ts","webpack:///./app/Channels/Models/ChatMessageApiModel.ts","webpack:///./app/Hubs/HubStore.ts","webpack:///./app/ChannelPanel/ChannelPanel.tsx","webpack:///./app/ChannelPanel/ChannelListItem.tsx","webpack:///./app/ChatPanel/ChatPanel.tsx"],"names":["ChatAppProps","ChatAppProps.constructor","ChatAppState","ChatAppState.constructor","ChatApp","ChatApp.constructor","ChatApp.render","ChatApp.componentDidMount","render","ChannelStore","ChannelStore.constructor","ChannelStore.getChannels","ChannelStore.getChannelsForHub","ChannelStore.getMessagesForChannel","ChannelStore.dispose","ChannelStore.sendMessageToChatHub","ChannelStore.sendMessageToApi","Dispatcher","Dispatcher.constructor","SendMessageAction","SendMessageAction.constructor","SendMessageAction.message","SendMessageAction.channel","Action","Action.constructor","ChannelActivationEvent","ChannelActivationEvent.constructor","ChannelActivationEvent.channel","NewChannelAction","NewChannelAction.constructor","NewChannelAction.channel","Channel","Channel.constructor","Channel.id","Channel.hubId","Channel.name","ChannelStoreEvents","ChannelStoreEvents.constructor","ChatMessageApiModel","ChatMessageApiModel.constructor","ChatMessageApiModel.channelId","ChatMessageApiModel.hubId","ChatMessageApiModel.username","ChatMessageApiModel.message","HubStore","HubStore.constructor","HubStore.getHubs","ChannelPanelProps","ChannelPanelProps.constructor","ChannelPanelState","ChannelPanelState.constructor","ChannelPanel","ChannelPanel.constructor","ChannelPanel.componentDidMount","ChannelPanel.render","ChannelPanel.getChannels","ChannelListItemProps","ChannelListItemProps.constructor","ChannelListItemState","ChannelListItemState.constructor","ChannelListItem","ChannelListItem.constructor","ChannelListItem.render","ChatPanelProps","ChatPanelProps.constructor","ChatPanelState","ChatPanelState.constructor","ChatPanel","ChatPanel.constructor","ChatPanel.componentDidMount","ChatPanel.render"],"mappings":"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IA,CAACA,CAACA,CAACA,UAAUA,CAACA,OAAOA,CAACA,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAACA,KAAKA,EAAEA,OAAOA,CAACA,EAAEA,EAAEA,OAAOA,CAACA,CAACA;KAC9EA,CAACA;;KAEON,uCAAgBA,GAAxBA,UAAyBA,OAAgBA,EAAEA,OAAeA;SAEtDO,IAAIA,GAAGA,GAAGA,WAAWA,GAAGA,OAAOA,CAACA,KAAKA,GAAGA,GAAGA,GAAGA,OAAOA,CAACA,EAAEA,GAAGA,WAAWA,CAACA;SAEvEA,MAAMA,CAACA,IAAIA,CAACA,CAACA,CAACA,IAAIA,CACdA;aACIA,GAAGA,EAAEA,GAAGA;aACRA,IAAIA,EAAEA,MAAMA;aACZA,QAAQA,EAAEA,MAAMA;aAChBA,WAAWA,EAAEA,kBAAkBA;aAC/BA,IAAIA,EAAEA,IAAIA,CAACA,SAASA,CAACA,EAAEA,OAAOA,EAAEA,OAAOA,EAAEA,CAACA;UAC7CA,CACJA,CAACA;KACNA,CAACA;;KACLP,mBAACA;AAADA,EAACA,EA9GyC,MAAM,CAAC,YAAY,EA8G5D;AA9GD;+BA8GC;;;;;;;;;;ACjID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH,qBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;ACzSA,mDAAkD;;;;;;AAElD,KAAO,IAAI,uBAAW,aAAM,CAAC,CAAC;AAG9B;KAAyBQ,8BAAuBA;KAAhDA;SAAyBC,8BAAuBA;KAAEA,CAACA;KAADD,iBAACA;AAADA,EAACA,EAA1B,IAAI,CAAC,UAAU,EAAW;AAEnD,KAAI,UAAU,GAAG,IAAI,UAAU,EAAE,CAAC;AAElC;mBAAe,UAAU,CAAC;;;;;;;;;;ACT1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA,uBAAsB;AACtB;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;AAED,6B;;;;;;;;;;ACtOA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;AACA,6BAA4B,UAAU;;;;;;;;;;AC1FtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sDAAqD;AACrD,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA,2BAA0B;AAC1B;AACA;AACA;;AAEA,4B;;;;;;;;;;;;;;;AC/CA,oCAAmB,2BAAmB,CAAC;AAEvC;KAA+CE,qCAAMA;KAKjDA,2BAAYA,OAAgBA,EAAEA,OAAeA;SAEzCC,iBAAOA,CAACA;SAERA,IAAIA,CAACA,QAAQA,GAAGA,OAAOA,CAACA;SACxBA,IAAIA,CAACA,QAAQA,GAAGA,OAAOA,CAACA;KAC5BA,CAACA;KAEDD,sBAAIA,sCAAOA;cAAXA;aACIE,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA;SACzBA,CAACA;;;QAAAF;KAEDA,sBAAIA,sCAAOA;cAAXA;aACEG,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA;SACvBA,CAACA;;;QAAAH;KACLA,wBAACA;AAADA,EAACA,EApB8C,gBAAM,EAoBpD;AApBD;oCAoBC;;;;;;;;;;ACvBD;KAAAI;KACAC,CAACA;KAADD,aAACA;AAADA,EAACA,IAAA;AADD;yBACC;;;;;;;;;;;;;;;ACDD,oCAAmB,2BAAmB,CAAC;AAGvC;KAAoDE,0CAAMA;KAItDA,gCAAYA,OAAgBA;SAExBC,iBAAOA,CAACA;SAC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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 10df115534eb0fae3e7a\n **/","/// <reference path=\"./typings/react/react-global.d.ts\" />\r\n/// <reference path=\"./typings/jquery/jquery.d.ts\" />\r\n/// <reference path=\"./Actions/Action.ts\"/>\r\n\r\nimport $ = require(\"jquery\");\r\n\r\nimport Channel from \"./Channels/Channel\";\r\nimport ChannelStore from \"./Channels/ChannelStore\";\r\nimport HubStore from \"./Hubs/HubStore\";\r\nimport { ChannelPanel } from \"./ChannelPanel/ChannelPanel\";\r\nimport ChatPanel from \"./ChatPanel/ChatPanel\";\r\nimport HubApiModel from \"./Hubs/Models/HubApiModel\";\r\n\r\nclass ChatAppProps {\r\n\r\n}\r\n\r\nclass ChatAppState {\r\n    public activeChatChannels: Array<Channel>;\r\n}\r\n\r\nexport class ChatApp extends React.Component<ChatAppProps, ChatAppState> {\r\n\r\n    private channelStore: ChannelStore;\r\n    private hubStore: HubStore;\r\n    private hub: HubApiModel;\r\n\r\n    constructor(props: ChatAppProps) {\r\n        super(props);\r\n\r\n        this.channelStore = new ChannelStore($);\r\n        this.hubStore = new HubStore();\r\n\r\n        this.state = {\r\n            activeChatChannels: []\r\n        };\r\n    }\r\n\r\n    public render(): JSX.Element {\r\n\r\n        let chatPanels = this.state.activeChatChannels.map((channel: Channel) => {\r\n            return <ChatPanel channelStore={this.channelStore} activeChannel={channel}/>;\r\n        });\r\n\r\n        return (<div>\r\n                <h2>{ this.hub ? this.hub.name : null }</h2>\r\n            <ChannelPanel channelStore={this.channelStore} hubId={ this.hub ? this.hub.id : null }/>\r\n            {chatPanels}\r\n                </div>);\r\n    };\r\n\r\n    public componentDidMount(): void {\r\n\r\n        this.hubStore.getHubs()\r\n            .then((hubs: Array<HubApiModel>) => {\r\n\r\n                this.hub = hubs[0];\r\n\r\n                return this.channelStore.getChannelsForHub(this.hub.id).then((channels: Array<Channel>) => {\r\n                    this.setState({\r\n                        activeChatChannels: channels\r\n                    });\r\n                });\r\n            });        \r\n    };\r\n}\r\n\r\nfunction render(): void {\r\n    React.render(\r\n        <ChatApp/>,\r\n        document.getElementsByClassName(\"chatapp\")[0]\r\n    );\r\n}\r\n\r\n$(document).ready(() => {\r\n    render();\r\n});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/App.tsx\n **/","module.exports = $;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"$\"\n ** module id = 1\n ** module chunks = 0\n **/","/// <reference path=\"../typings/flux/flux.d.ts\" />\r\n/// <reference path=\"../typings/node/node.d.ts\" />\r\n/// <reference path=\"../typings/jquery/jquery.d.ts\" />\r\n/// <reference path=\"../typings/signalr/signalr.d.ts\" />\r\n/// <reference path=\"../Socket/ChatSocket.ts\" />\r\n\r\nimport events = require(\"events\");\r\nimport dispatcher from \"../Dispatcher/Dispatcher\";\r\n\r\nimport Action from \"../Actions/Action\";\r\nimport SendMessageAction from \"./SendMessageAction\";\r\nimport ChannelActivationAction from \"./ChannelActivationAction\";\r\nimport NewChannelAction from \"./NewChannelAction\";\r\nimport Channel from \"./Channel\";\r\nimport IChannelStore from \"./IChannelStore\";\r\nimport ChannelStoreEvents from \"../Channels/ChannelStoreEvents\";\r\nimport ChatMessageApiModel from \"./Models/ChatMessageApiModel\";\r\nimport ChannelApiModel from \"./Models/ChannelApiModel\";\r\n\r\nexport default class ChannelStore extends events.EventEmitter implements IChannelStore {\r\n\r\n    private $: JQueryStatic;\r\n    private dispatcherToken: string;\r\n\r\n    constructor($: JQueryStatic) {\r\n        \r\n        super();\r\n\r\n        this.$ = $;\r\n        \r\n        $.connection.chatHub.client.broadcastMessage = (hubId: string, channelId: string, username: string, message: string): void => {\r\n            \r\n            this.emit(ChannelStoreEvents.NEW_MESSAGE, new ChatMessageApiModel(hubId, channelId, username, message));\r\n        };\r\n\r\n        $.connection.hub.start();\r\n        \r\n        this.dispatcherToken =\r\n            dispatcher.register((action: Action) => {\r\n            if (action instanceof SendMessageAction) {\r\n                \r\n                let sendMessageAction = (<SendMessageAction>action);                \r\n\r\n                this.sendMessageToApi(sendMessageAction.channel, sendMessageAction.message)\r\n                    .then(() => {\r\n                        this.sendMessageToChatHub(sendMessageAction.channel, sendMessageAction.message);\r\n                    })\r\n                    .fail((error: any) => {\r\n                        console.log(error);\r\n                    });\r\n                \r\n            }\r\n\r\n            if (action instanceof NewChannelAction) {\r\n                // let newChannelAction = (<NewChannelAction>action);\r\n\r\n                // this.emit(ChannelStoreEvents.NEW_CHANNEL, (newChannelAction.channel));\r\n            }\r\n\r\n            if (action instanceof ChannelActivationAction) {\r\n                // let channelActivationAction = (<ChannelActivationAction>action);\r\n\r\n                // this.emit(ChannelStoreEvents.CHANNEL_ACTIVATED, channelActivationAction);\r\n            }\r\n        });\r\n    }\r\n\r\n    public getChannels(): JQueryPromise<Array<Channel>> {\r\n\r\n        let uri = \"/api/channels\";\r\n\r\n        return this.$.get(\r\n            uri,\r\n            (result: Array<Channel>): Array<Channel> => {\r\n                let data: Array<Channel> = result.map((apiModel: any) => {\r\n                    return new Channel(apiModel.id, apiModel.hubId, apiModel.name);\r\n                });\r\n                return data;\r\n            });\r\n    }\r\n\r\n    public getChannelsForHub(hubId: string): JQueryPromise<Array<Channel>> {\r\n\r\n        let uri = \"/api/hub/\" + hubId + \"/channels\";\r\n\r\n        return this.$.get(\r\n            uri,\r\n            (result: Array<ChannelApiModel>): Array<Channel> => {\r\n                let data = result.map((apiModel: ChannelApiModel) => {\r\n                    return new Channel(apiModel.id, apiModel.hubId, apiModel.name);\r\n                });\r\n                return data;\r\n            });\r\n    }\r\n\r\n    public getMessagesForChannel(channel: Channel): JQueryPromise<Array<ChatMessageApiModel>> {\r\n\r\n        let uri = \"/api/hub/\" + channel.hubId + \"/\" + channel.id + \"/messages\";\r\n\r\n        return this.$.get(uri, (messages: Array<ChatMessageApiModel>) => {\r\n            return messages;\r\n        });\r\n    }\r\n\r\n    public dispose(): void {\r\n        dispatcher.unregister(this.dispatcherToken);\r\n    };\r\n\r\n    // private \r\n\r\n    private sendMessageToChatHub(channel: Channel, message: string): void {\r\n                \r\n        this.$.connection.chatHub.server.send(channel.hubId, channel.id, message);\r\n    };\r\n\r\n    private sendMessageToApi(channel: Channel, message: string): JQueryPromise<void> {\r\n\r\n        let uri = \"/api/hub/\" + channel.hubId + \"/\" + channel.id + \"/messages\";\r\n\r\n        return this.$.ajax(\r\n            {\r\n                url: uri,\r\n                type: \"POST\",\r\n                dataType: \"json\",\r\n                contentType: \"application/json\",\r\n                data: JSON.stringify({ message: message })\r\n            }\r\n        );\r\n    };\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/Channels/ChannelStore.ts\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/events/events.js\n ** module id = 3\n ** module chunks = 0\n **/","/// <reference path=\"../typings/flux/flux.d.ts\" />\r\n\r\nimport flux = require(\"flux\");\r\nimport Action from \"../Actions/Action\";\r\n\r\nclass Dispatcher extends flux.Dispatcher<Action> {}\r\n\r\nlet dispatcher = new Dispatcher();\r\n\r\nexport default dispatcher;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/Dispatcher/Dispatcher.ts\n **/","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nmodule.exports.Dispatcher = require('./lib/Dispatcher');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/index.js\n ** module id = 5\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Dispatcher\n * \n * @preventMunge\n */\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar _prefix = 'ID_';\n\n/**\n * Dispatcher is used to broadcast payloads to registered callbacks. This is\n * different from generic pub-sub systems in two ways:\n *\n *   1) Callbacks are not subscribed to particular events. Every payload is\n *      dispatched to every registered callback.\n *   2) Callbacks can be deferred in whole or part until other callbacks have\n *      been executed.\n *\n * For example, consider this hypothetical flight destination form, which\n * selects a default city when a country is selected:\n *\n *   var flightDispatcher = new Dispatcher();\n *\n *   // Keeps track of which country is selected\n *   var CountryStore = {country: null};\n *\n *   // Keeps track of which city is selected\n *   var CityStore = {city: null};\n *\n *   // Keeps track of the base flight price of the selected city\n *   var FlightPriceStore = {price: null}\n *\n * When a user changes the selected city, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'city-update',\n *     selectedCity: 'paris'\n *   });\n *\n * This payload is digested by `CityStore`:\n *\n *   flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'city-update') {\n *       CityStore.city = payload.selectedCity;\n *     }\n *   });\n *\n * When the user selects a country, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'country-update',\n *     selectedCountry: 'australia'\n *   });\n *\n * This payload is digested by both stores:\n *\n *   CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       CountryStore.country = payload.selectedCountry;\n *     }\n *   });\n *\n * When the callback to update `CountryStore` is registered, we save a reference\n * to the returned token. Using this token with `waitFor()`, we can guarantee\n * that `CountryStore` is updated before the callback that updates `CityStore`\n * needs to query its data.\n *\n *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       // `CountryStore.country` may not be updated.\n *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n *       // `CountryStore.country` is now guaranteed to be updated.\n *\n *       // Select the default city for the new country\n *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n *     }\n *   });\n *\n * The usage of `waitFor()` can be chained, for example:\n *\n *   FlightPriceStore.dispatchToken =\n *     flightDispatcher.register(function(payload) {\n *       switch (payload.actionType) {\n *         case 'country-update':\n *         case 'city-update':\n *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n *           FlightPriceStore.price =\n *             getFlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *     }\n *   });\n *\n * The `country-update` payload will be guaranteed to invoke the stores'\n * registered callbacks in order: `CountryStore`, `CityStore`, then\n * `FlightPriceStore`.\n */\n\nvar Dispatcher = (function () {\n  function Dispatcher() {\n    _classCallCheck(this, Dispatcher);\n\n    this._callbacks = {};\n    this._isDispatching = false;\n    this._isHandled = {};\n    this._isPending = {};\n    this._lastID = 1;\n  }\n\n  /**\n   * Registers a callback to be invoked with every dispatched payload. Returns\n   * a token that can be used with `waitFor()`.\n   */\n\n  Dispatcher.prototype.register = function register(callback) {\n    var id = _prefix + this._lastID++;\n    this._callbacks[id] = callback;\n    return id;\n  };\n\n  /**\n   * Removes a callback based on its token.\n   */\n\n  Dispatcher.prototype.unregister = function unregister(id) {\n    !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.unregister(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n    delete this._callbacks[id];\n  };\n\n  /**\n   * Waits for the callbacks specified to be invoked before continuing execution\n   * of the current callback. This method should only be used by a callback in\n   * response to a dispatched payload.\n   */\n\n  Dispatcher.prototype.waitFor = function waitFor(ids) {\n    !this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Must be invoked while dispatching.') : invariant(false) : undefined;\n    for (var ii = 0; ii < ids.length; ii++) {\n      var id = ids[ii];\n      if (this._isPending[id]) {\n        !this._isHandled[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Circular dependency detected while ' + 'waiting for `%s`.', id) : invariant(false) : undefined;\n        continue;\n      }\n      !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n      this._invokeCallback(id);\n    }\n  };\n\n  /**\n   * Dispatches a payload to all registered callbacks.\n   */\n\n  Dispatcher.prototype.dispatch = function dispatch(payload) {\n    !!this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.') : invariant(false) : undefined;\n    this._startDispatching(payload);\n    try {\n      for (var id in this._callbacks) {\n        if (this._isPending[id]) {\n          continue;\n        }\n        this._invokeCallback(id);\n      }\n    } finally {\n      this._stopDispatching();\n    }\n  };\n\n  /**\n   * Is this Dispatcher currently dispatching.\n   */\n\n  Dispatcher.prototype.isDispatching = function isDispatching() {\n    return this._isDispatching;\n  };\n\n  /**\n   * Call the callback stored with the given id. Also do some internal\n   * bookkeeping.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._invokeCallback = function _invokeCallback(id) {\n    this._isPending[id] = true;\n    this._callbacks[id](this._pendingPayload);\n    this._isHandled[id] = true;\n  };\n\n  /**\n   * Set up bookkeeping needed when dispatching.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._startDispatching = function _startDispatching(payload) {\n    for (var id in this._callbacks) {\n      this._isPending[id] = false;\n      this._isHandled[id] = false;\n    }\n    this._pendingPayload = payload;\n    this._isDispatching = true;\n  };\n\n  /**\n   * Clear bookkeeping used for dispatching.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._stopDispatching = function _stopDispatching() {\n    delete this._pendingPayload;\n    this._isDispatching = false;\n  };\n\n  return Dispatcher;\n})();\n\nmodule.exports = Dispatcher;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/lib/Dispatcher.js\n ** module id = 6\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/process/browser.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n\"use strict\";\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function (condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error('Invariant Violation: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/~/fbjs/lib/invariant.js\n ** module id = 8\n ** module chunks = 0\n **/","import Channel from \"./Channel\";\r\nimport Action from \"../Actions/Action\";\r\n\r\nexport default class SendMessageAction extends Action {\r\n\r\n    private _message: string;\r\n    private _channel: Channel;\r\n\r\n    constructor(channel: Channel, message: string) {\r\n\r\n        super();\r\n\r\n        this._message = message;\r\n        this._channel = channel;\r\n    }\r\n\r\n    get message(): string {\r\n        return this._message;\r\n    }\r\n\r\n    get channel(): Channel {\r\n      return this._channel;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/Channels/SendMessageAction.ts\n **/","export default class Action {\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/Actions/Action.ts\n **/","import Action from \"../Actions/Action\";\r\nimport Channel from \"./Channel\";\r\n\r\nexport default class ChannelActivationEvent extends Action {\r\n\r\n    private _channel: Channel;\r\n\r\n    constructor(channel: Channel) {\r\n\r\n        super();\r\n        this._channel = channel;\r\n    }\r\n\r\n    public get channel(): Channel {\r\n        return this._channel;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/Channels/ChannelActivationAction.ts\n **/","import Action from \"../Actions/Action\";\r\nimport Channel from \"./Channel\";\r\n\r\nexport default class NewChannelAction extends Action {\r\n\r\n    private _channel: Channel;\r\n\r\n    constructor(channel: Channel) {\r\n\r\n        super();\r\n        this._channel = channel;\r\n    }\r\n\r\n    public get channel(): Channel {\r\n        return this._channel;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/Channels/NewChannelAction.ts\n **/","export default class Channel {\r\n\r\n    private _id: string;\r\n    private _name: string;\r\n    private _hubId: string;\r\n\r\n    constructor(id: string, hubId: string, name: string) {\r\n        this._id = id;\r\n        this._hubId = hubId;\r\n        this._name = name;\r\n    }\r\n\r\n    public get id(): string {\r\n        return this._id;\r\n    };\r\n\r\n    public get hubId(): string {\r\n        return this._hubId;\r\n    };\r\n\r\n    public get name(): string {\r\n        return this._name;\r\n    };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/Channels/Channel.ts\n **/","\r\nexport default class ChannelStoreEvents {\r\n    public static NEW_CHANNEL = \"NEW_CHANNEL\";\r\n    public static NEW_MESSAGE = \"NEW_MESSAGE\";\r\n    public static CHANNEL_ACTIVATED = \"CHANNEL_ACTIVATED\";\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/Channels/ChannelStoreEvents.ts\n **/","export default class ChatMessageApiModel {\r\n\r\n    private _channelId: string;\r\n    private _username: string;\r\n    private _message: string;\r\n    private _hubId: string;\r\n\r\n    constructor(hubId: string, channelId: string, username: string, message: string) {\r\n        this._channelId = channelId;\r\n        this._username = username;\r\n        this._message = message;\r\n        this._hubId = hubId;\r\n    }\r\n\r\n    public get channelId(): string {\r\n        return this._channelId;\r\n    };\r\n\r\n    public get hubId(): string {\r\n        return this._hubId;\r\n    };\r\n\r\n    public get username(): string {\r\n        return this._username;\r\n    }\r\n\r\n    public get message(): string {\r\n        return this._message;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/Channels/Models/ChatMessageApiModel.ts\n **/","/// <reference path=\"../typings/flux/flux.d.ts\" />\r\n/// <reference path=\"../typings/node/node.d.ts\" />\r\n/// <reference path=\"../typings/jquery/jquery.d.ts\" />\r\n/// <reference path=\"../typings/signalr/signalr.d.ts\" />\r\n/// <reference path=\"../Socket/ChatSocket.ts\" />\r\n\r\nimport events = require(\"events\");\r\nimport $ = require(\"jquery\");\r\n\r\nimport IHubStore from \"./IHubStore\";\r\nimport HubApiModel from \"./Models/HubApiModel\";\r\n\r\nexport default class HubStore extends events.EventEmitter implements IHubStore {\r\n    \r\n    constructor() {\r\n\r\n        super();\r\n    }\r\n\r\n    public getHubs(): JQueryPromise<Array<HubApiModel>> {\r\n        let uri = \"/api/hubs\";\r\n\r\n        return $.get(\r\n            uri,\r\n            (result: Array<HubApiModel>): Array<HubApiModel> => {\r\n                return result;\r\n            });\r\n        };\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/Hubs/HubStore.ts\n **/","/// <reference path=\"../typings/react/react.d.ts\" />\r\n/// <reference path=\"../typings/react/react-global.d.ts\" />\r\n\r\nimport Channel from \"../Channels/Channel\";\r\nimport ChannelStoreEvents from \"../Channels/ChannelStoreEvents\";\r\nimport ChannelListItem from \"./ChannelListItem\";\r\nimport ChannelStore from \"../Channels/ChannelStore\";\r\n\r\nexport class ChannelPanelProps {\r\n    public channelStore: ChannelStore;\r\n    public hubId: string;\r\n}\r\n\r\nclass ChannelPanelState {\r\n    public channels: Array<Channel>;\r\n}\r\n\r\nexport class ChannelPanel extends React.Component<ChannelPanelProps, ChannelPanelState> {\r\n\r\n    constructor(props: ChannelPanelProps) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            channels: []\r\n        };\r\n    }\r\n\r\n    // handlers\r\n\r\n    private onNewChannel = (): void => {\r\n        this.getChannels();\r\n    };\r\n\r\n    // public\r\n        \r\n    public componentDidMount(): void {\r\n        this.props.channelStore.addListener(ChannelStoreEvents.NEW_CHANNEL, this.onNewChannel);\r\n\r\n        this.getChannels();\r\n    };\r\n\r\n    public render(): JSX.Element {\r\n        let channelList = this.state.channels.map((channel: Channel) => {\r\n            return <ChannelListItem channel={channel}/>;\r\n        });\r\n\r\n        return (\r\n            <div>\r\n        <ul>\r\n          {channelList}\r\n            </ul>\r\n                </div>\r\n        );\r\n    };\r\n    \r\n    // private \r\n\r\n    private getChannels(): JQueryPromise<void> {\r\n\r\n        let channels = this.props.hubId\r\n            ? this.props.channelStore.getChannelsForHub(this.props.hubId)\r\n            : this.props.channelStore.getChannels();\r\n\r\n        return channels.then((chans: Array<Channel>) => {\r\n            this.setState({\r\n                channels: chans\r\n            });\r\n        });\r\n    };\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/ChannelPanel/ChannelPanel.tsx\n **/","/// <reference path=\"../typings/react/react-global.d.ts\" />\r\n\r\nimport dispatcher from \"../Dispatcher/Dispatcher\";\r\nimport Channel from \"../Channels/Channel\";\r\nimport ChannelActivationAction from \"../Channels/ChannelActivationAction\";\r\n\r\nclass ChannelListItemProps {\r\n    public channel: Channel;\r\n}\r\n\r\nclass ChannelListItemState {\r\n}\r\n\r\nexport default class ChannelListItem extends React.Component<ChannelListItemProps, ChannelListItemState> {\r\n\r\n  private channel: Channel;\r\n\r\n  constructor(props: ChannelListItemProps) {\r\n    super(props);\r\n    this.channel = props.channel;\r\n  }\r\n\r\n  private channelClicked = () => {\r\n      dispatcher.dispatch(new ChannelActivationAction(this.channel));\r\n  };\r\n\r\n  public render(): JSX.Element {\r\n\r\n    return (\r\n      <li onClick={this.channelClicked}>{this.channel.name}</li>\r\n      );\r\n  };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/ChannelPanel/ChannelListItem.tsx\n **/","/// <reference path=\"../typings/react/react-global.d.ts\" />\r\n\r\nimport dispatcher from \"../Dispatcher/Dispatcher\";\r\nimport SendMessageAction from \"../Channels/SendMessageAction\";\r\nimport ChannelStore from \"../Channels/ChannelStore\";\r\nimport ChannelStoreEvents from \"../Channels/ChannelStoreEvents\";\r\nimport Channel from \"../Channels/Channel\";\r\nimport ChatMessageApiModel from \"../Channels/Models/ChatMessageApiModel\";\r\n\r\nclass ChatPanelProps {\r\n    public channelStore: ChannelStore;\r\n    public activeChannel: Channel;\r\n}\r\n\r\nclass ChatPanelState {\r\n    public message: string;\r\n    public messages: Array<ChatMessageApiModel>;\r\n}\r\n\r\nexport default class ChatPanel extends React.Component<ChatPanelProps, ChatPanelState> {\r\n\r\n    constructor(props: ChatPanelProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            message: null,\r\n            messages: []\r\n        };\r\n    }\r\n\r\n    private onMessageChanged = (event: any): void => {\r\n        this.setState({\r\n            message: event.target.value,\r\n            messages: this.state.messages\r\n        });\r\n    };\r\n\r\n    private onNewMessage = (newMessage: ChatMessageApiModel) => {\r\n\r\n        if (newMessage.channelId === this.props.activeChannel.id) {\r\n\r\n            this.state.messages.push(newMessage);\r\n\r\n            this.setState({\r\n                messages: this.state.messages,\r\n                message: this.state.message\r\n            });        \r\n        }        \r\n    };\r\n\r\n    private sendMessage = (event: any): void => {\r\n        event.preventDefault();\r\n\r\n        if (!this.state.message) {\r\n            return;\r\n        }\r\n\r\n        dispatcher.dispatch(new SendMessageAction(this.props.activeChannel, this.state.message));\r\n        this.setState({\r\n            message: null,\r\n            messages: this.state.messages\r\n        });\r\n    };\r\n\r\n    public componentDidMount(): void {\r\n        this.props.channelStore.addListener(ChannelStoreEvents.NEW_MESSAGE, this.onNewMessage);\r\n\r\n        this.props.channelStore.getMessagesForChannel(this.props.activeChannel)\r\n            .then((messages: Array<ChatMessageApiModel>) => {\r\n                this.setState({\r\n                    message: this.state.message,\r\n                    messages: messages\r\n                });\r\n            });\r\n    };\r\n\r\n    public render(): JSX.Element {\r\n\r\n        let messages: Array<JSX.Element> = [];\r\n\r\n        for (var i = 0; i < this.state.messages.length; i++) {\r\n            let message = this.state.messages[i];\r\n            messages.push(<div><span>{message.username}: </span><span>{message.message}</span></div>);\r\n        }\r\n\r\n        return (\r\n            <div>\r\n          <header>Chat Panel - {this.props.activeChannel.name}</header>\r\n          <ul>\r\n              {messages}\r\n          </ul>\r\n          <form onSubmit={this.sendMessage}>\r\n            <input type=\"text\" value={this.state.message} onChange={this.onMessageChanged}/>\r\n            <button type=\"submit\">Send</button>\r\n              </form>\r\n                </div>\r\n        );\r\n    };\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/tslint-loader!./app/ChatPanel/ChatPanel.tsx\n **/"],"sourceRoot":""}